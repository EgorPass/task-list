@import "./template.scss";
@import "./varibels.scss";
@import "./mixins.scss";

.task-field {

	&__title-container {
		grid-area: header;

		padding-bottom: $taskFieldTitleContanerPadding;
		position: relative;	
	}
	
	&__title {
		
		@extend %template-title;
		@extend %template-wrap;
		@extend %template-overflow;
		
		text-align: center;
		
		&_deadmen {
			color: $titleDeadmenColor;
		}
	
		&_complite {
			color: $titleCompliteColor;
		}
	
		@media (max-width: 500px) {
			font: $templateTitleFontSmall;
		}
	}

	&__descriptio-container {
		height: auto;
		grid-area: description;
		position: relative;
		border-bottom: $descriptionContainerBorder;
		border-top: $descriptionContainerBorder;
	}
	
	&__description {
		@extend %template-description;
		@extend %template-wrap;
		@extend %template-overflow;
		@extend %template-font_description;
	}

	&__checkbox-container {
		grid-area: checkbox;
		@include setFlex($checkboxContainerFlex, $checkboxContainerJustify, $checkboxContainerAlign)
	}

	&__checkbox {
		@extend %template-checkbox;

			& input {
				@extend %template-checkbox__input;
			}
		
			& input:checked~div {			
				background-color: #5df71571;
			}
		
			& input:checked~div:after {
				opacity: 1;
			}
				
			&:hover input:checked~div {
				background-color: #f7ca1577;
			}
		
			& div {
				@extend %template-checkbox__checkmark;
				
				@media (max-width: 500px) {
					height: $checkboxHeightSmall;
					width: $checkboxWidthSmall;
				}
			}
		
			& div:after {
				@extend %template-checkbox__checkmark_active;

				@media (max-width: 500px) {
					left: 6px;
					top: 2px;
					width: 4px;
					height: 8px;
				}
			}
	}

	&__check-description {
		@extend %template-checkbox__description;
		@extend %template-font_description;
		
		@media (max-width: 500px) {
				font: $templateDescriptionFontSmall;
				padding-left: $checkboxDescriptionPadding;
			}
	}

	&__deadline-container {
		height: 100%;
		grid-area: deadline;
		position: relative;

		@include setFlex($deadlineContainerFlex, $deadlineContainerJustify, $deadlineContainerAlign)
	}

	&__deadline-description {
		justify-self: end;
		margin-right: $deadlineDescriptionMargin;
		@extend %template-font_description;

		@media (max-width: 500px) {
			font: $templateDescriptionFontSmall;
		}
	}

	&__deadline {
		justify-self: start;
		@extend %template-font_description;

		@media (max-width: 500px) {
			font: $templateDescriptionFontSmall;
		}

	}


	&__file-container {
		
		grid-area: file;
		
		margin: $fileContainerMargin;
		
		display: grid;
		grid-template-columns: $fileContainerGridCol;		
		justify-content: $fileContainerGridJustify;
	}
	
	&__file-list {
		list-style-type: none;
		
		border: $fileListBorder;
		
		@include setBox($fileListMargin, $fileListPadding);

		@media (max-width: 500px) {
			margin: $fileListMarginSmall;
		}
	}
	
	&__file-add-position {
		align-self: center;
		justify-self: end;
	}
	
	&__file-add {
		display: block;
		@extend %template-circle-button;

		height: $fileAddWidth;
		width: $fileAddWidth;
		
		font: $fileAddFont;
		@media (max-width: 500px) {
			width: $fileAddWidthSmall;
			height: $fileAddWidthSmall;
			font: $fileAddFontSmall;
		}
	}

	&__file-add:hover {
		background: $fileAddBackgroundHover;
	}

	&__file-add:active {
		top: 1px;
		left: 1px;
		box-shadow: 0 0 2px gray;
	}

	&__file-add-input {
		display: none;
	}

	&__file-item {
		position: relative;
		@include setGrid($fileItemGridRow, $fileItemGridCol, $fileItemGridJustify, $fileItemGridAlign);

		@include setBox($fileItemMargin, $fileItemPadding);
		
		cursor: pointer;
	}

	&__file-item:last-of-type {
		margin: $fileItemMarginLastType;
	}

	&__file-name {
		word-break: break-all;
		
		font: $fileNameFont;
		text-shadow: $fileNameTextShadow;

		margin: $fileNameMargin;
	}

	&__file-loader_visible {
		position: absolute;
		width: 100%;
		height: 100%;
		
		@include setGrid(
			$fileLoaderGridRow,
			$fileLoaderGridCol,
			$fileLoaderGridjustify,
			$fileLoaderGridAlign
		);
		
		z-index: 2;
	}

	&__file-loader_hidden {
		display: none;
	}
	
	&__file-loader-progress {
		width: 0%;
		background-color:$fileLoaderProgressBackground;
	}

	&__file-name:hover {
		color: blue;
		text-decoration: underline;
	}

	&__file-remove_visible,
	&__file-loader-cancel_visible {
		justify-self: center;
		align-self: center;
		
		@extend %template-circle-button;
		
		height: $fileRemoveWidth;
		width: $fileRemoveWidth;
		
		font: $fileRemoveFont;
	}

	&__file-remove_hidden {
		display: none;
	}

	&__file-remove_visible:hover,
	&__file-loader-cancel_visible:hover {
		background: $fileAddBackgroundHover;
	}

	&__file-remove_visible:active,
	&__file-loader-cancel_visible:active {
		top: 1px;
		left: 1px;
		box-shadow: 0 0 2px gray;
	}

	&__button-container {
		grid-area: buttonContainer;	
		
		@include setFlex(
			$buttonContainerFlex,
			$buttonContainerFlexJustify,
			$buttonContainerFlexAlign,
		);

		padding: 5px;
	}

	&__item-button {
		position: relative;
		top: 0px;
		left: 0px;
		width: $itemButtonWidth;
		height: $itemButtonHeight;
		background: $itemButtonBackground;
		
		@include setBorder(
			$itemButtonBorder,
			$itemButtonBorderRadius,
			$itemButtonBoxShadow
		);

		font: $itemButtonFont;
		margin-left: 5px;

		@media (max-width: 500px) {
			font: $itemButtonFontSmall;
		}
	}

	&__item-button:first-of-type{
		margin-left: 0px;
	}

	&__item-button:hover { 
		background: $itemButtonBackgroundHover;
	}
		
	&__item-button:active {
		top: 2px;
		left: 1px;
		box-shadow: 0px 1px 0px black;
	}

	&__edit-field {
		display: block;
		resize: none;
		width: 100%;
		height: 100%;
		border: none;
		outline: none;
		background: rgba(240, 240, 255, 1);
		position: absolute;
			top: 0;
			left: 0;
			bottom: 0;
			right: 0;
		@extend %template-overflow;
		@extend %template-wrap;
		
		&_description {
			@extend %template-description;
			@extend %template-font_description;
		}

		&_title {		
			@extend %template-title;
			text-align: center;
		}
		
		&_deadline {
			text-align: end;
			flex-basis: 130px;
			justify-self: start;
			@extend %template-font_description;
		}

	}
}